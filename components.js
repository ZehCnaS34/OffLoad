Vue.component('svg-offload', {
    template: `
    <svg
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:cc="http://creativecommons.org/ns#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns="http://www.w3.org/2000/svg"
    height="60"
    width="210"
    class="ytd-topbar-logo-renderer"
    id="svg3809"
    version="1.1"
    class="style-scope ytd-topbar-logo-renderer"
    style="display:block"
    focusable="false"
    preserveAspectRatio="xMidYMid meet"
    viewBox="0 0 210 60">
    <metadata
        id="metadata3815">
        <rdf:RDF>
        <cc:Work
            rdf:about="">
            <dc:format>image/svg+xml</dc:format>
            <dc:type
            rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
            <dc:title></dc:title>
        </cc:Work>
        </rdf:RDF>
    </metadata>
    <defs
        id="defs3813" />
    <g
        class="style-scope ytd-topbar-logo-renderer"
        id="g3788">
        <path
        d="M 63,14.87 C 62.28,12.17 60.15,10.04 57.44,9.31 52.54,8 32.88,8 32.88,8 32.88,8 13.23,8 8.32,9.31 5.62,10.03 3.49,12.16 2.76,14.87 1.45,19.77 1.45,30 1.45,30 c 0,0 0,10.23 1.31,15.13 0.72,2.7 2.85,4.83 5.56,5.56 C 13.23,52 32.88,52 32.88,52 c 0,0 19.66,0 24.56,-1.31 2.7,-0.72 4.83,-2.85 5.56,-5.56 1.31,-4.9 1.31,-15.13 1.31,-15.13 0,0 0,-10.23 -1.31,-15.13 z"
        class="style-scope ytd-topbar-logo-renderer"
        id="path3784"
        style="fill:#ff0000" />
        <polygon
        points="42.93,30 26.6,20.57 26.6,39.43 "
        class="style-scope ytd-topbar-logo-renderer"
        id="polygon3786"
        style="fill:#ffffff" />
    </g>
    <text
        id="text3819"
        y="48.582661"
        x="64.779427"
        style="font-style:normal;font-weight:normal;font-size:54.81463242px;line-height:1.25;font-family:sans-serif;letter-spacing:-4.11109734px;word-spacing:0px;fill:#282828;fill-opacity:1;stroke:none;stroke-width:1.37036586"
        xml:space="preserve"><tspan
        style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:51.1603241px;font-family:'Noto Sans';-inkscape-font-specification:'Noto Sans Bold';letter-spacing:-4.11109734px;fill:#282828;fill-opacity:1;stroke-width:1.37036586"
        y="48.582661"
        x="64.779427"
        id="tspan3817">O<tspan
    id="tspan3821"
    style="font-size:40.19739914px;fill:#282828;fill-opacity:1;stroke-width:1.37036586">ff</tspan><tspan
    id="tspan3837"
    style="letter-spacing:-8.10999966px">L</tspan><tspan
    id="tspan3823"
    style="font-size:40.19739914px;fill:#282828;fill-opacity:1;stroke-width:1.37036586"><tspan
        id="tspan3839"
        style="letter-spacing:-3.1099999px">o</tspan><tspan
        style="letter-spacing:-4.61000013px"
        id="tspan3849">ad</tspan></tspan></tspan></text>
    <rect
        y="19.711357"
        x="20.226543"
        height="23.186525"
        width="23.186525"
        id="rect3881"
        style="fill:#ff0000;fill-opacity:1" />
    <rect
        transform="scale(1,-1)"
        y="-40.431229"
        x="23.350969"
        height="21.048759"
        width="5.9199638"
        id="rect3853"
        style="fill:#ffffff;fill-opacity:1" />
    <rect
        transform="scale(1,-1)"
        y="-40.102341"
        x="35.026455"
        height="21.048759"
        width="5.9199638"
        id="rect3853-3"
        style="display:block;fill:#ffffff;fill-opacity:1" />
    </svg>
    `
})

Vue.component('svg-youtube', {
    template: `
      <svg viewBox="0 0 200 60" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope ytd-topbar-logo-renderer"><g viewBox="0 0 200 60" preserveAspectRatio="xMidYMid meet" class="style-scope ytd-topbar-logo-renderer">
        <g class="style-scope ytd-topbar-logo-renderer">
          <path fill="#FF0000" d="M63,14.87c-0.72-2.7-2.85-4.83-5.56-5.56C52.54,8,32.88,8,32.88,8S13.23,8,8.32,9.31
            c-2.7,0.72-4.83,2.85-5.56,5.56C1.45,19.77,1.45,30,1.45,30s0,10.23,1.31,15.13c0.72,2.7,2.85,4.83,5.56,5.56
            C13.23,52,32.88,52,32.88,52s19.66,0,24.56-1.31c2.7-0.72,4.83-2.85,5.56-5.56C64.31,40.23,64.31,30,64.31,30
            S64.31,19.77,63,14.87z" class="style-scope ytd-topbar-logo-renderer"></path>
          <polygon fill="#FFFFFF" points="26.6,39.43 42.93,30 26.6,20.57" class="style-scope ytd-topbar-logo-renderer"></polygon>
        </g>
        <g class="style-scope ytd-topbar-logo-renderer">
          <g id="youtube-paths" class="style-scope ytd-topbar-logo-renderer">
            <path fill="#282828" d="M92.69,48.03c-1.24-0.84-2.13-2.14-2.65-3.91c-0.52-1.77-0.79-4.12-0.79-7.06v-4
              c0-2.97,0.3-5.35,0.9-7.15c0.6-1.8,1.54-3.11,2.81-3.93c1.27-0.82,2.94-1.24,5.01-1.24c2.04,0,3.67,0.42,4.9,1.26
              c1.23,0.84,2.13,2.15,2.7,3.93c0.57,1.78,0.85,4.16,0.85,7.12v4c0,2.94-0.28,5.3-0.83,7.08c-0.55,1.78-1.45,3.09-2.7,3.91
              c-1.24,0.82-2.93,1.24-5.06,1.24C95.65,49.29,93.93,48.87,92.69,48.03z M99.66,43.71c0.34-0.9,0.52-2.37,0.52-4.4v-8.59
              c0-1.98-0.17-3.42-0.52-4.34c-0.34-0.91-0.95-1.37-1.82-1.37c-0.84,0-1.43,0.46-1.78,1.37c-0.34,0.91-0.52,2.36-0.52,4.34v8.59
              c0,2.04,0.16,3.51,0.49,4.4c0.33,0.9,0.93,1.35,1.8,1.35C98.71,45.06,99.31,44.61,99.66,43.71z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M188.16,37.13v1.39c0,1.77,0.05,3.09,0.16,3.98c0.1,0.88,0.32,1.53,0.65,1.93
              c0.33,0.4,0.84,0.61,1.53,0.61c0.93,0,1.57-0.36,1.91-1.08c0.34-0.72,0.53-1.92,0.56-3.6l5.35,0.31
              c0.03,0.24,0.04,0.57,0.04,0.99c0,2.55-0.7,4.45-2.09,5.71c-1.39,1.26-3.36,1.89-5.91,1.89c-3.06,0-5.2-0.96-6.43-2.88
              c-1.23-1.92-1.84-4.88-1.84-8.9v-4.81c0-4.14,0.64-7.15,1.91-9.06c1.27-1.9,3.45-2.85,6.54-2.85c2.13,0,3.76,0.39,4.9,1.17
              c1.14,0.78,1.94,1.99,2.41,3.64c0.46,1.65,0.7,3.93,0.7,6.83v4.72H188.16z M188.95,25.53c-0.31,0.39-0.52,1.03-0.63,1.91
              c-0.11,0.88-0.16,2.23-0.16,4.02v1.98h4.54v-1.98c0-1.77-0.06-3.11-0.18-4.02c-0.12-0.91-0.34-1.56-0.65-1.93
              c-0.31-0.37-0.8-0.56-1.46-0.56C189.75,24.94,189.26,25.14,188.95,25.53z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M77.59,36.61l-7.06-25.49h6.16l2.47,11.55c0.63,2.85,1.09,5.27,1.39,7.28h0.18
              c0.21-1.44,0.67-3.85,1.39-7.24l2.56-11.6h6.16L83.7,36.61v12.23h-6.11V36.61z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M126.45,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8
              c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79
              c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H126.45z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M158.27,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8
              c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79
              c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H158.27z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M143.31,16.11h-6.16v32.72h-6.07V16.11h-6.16v-4.99h18.38V16.11z" class="style-scope ytd-topbar-logo-renderer"></path>
            <path fill="#282828" d="M178.8,25.69c-0.38-1.74-0.98-3-1.82-3.78c-0.84-0.78-1.99-1.17-3.46-1.17c-1.14,0-2.2,0.32-3.19,0.97
              c-0.99,0.64-1.75,1.49-2.29,2.54h-0.05l0-14.52h-5.98v39.11h5.12l0.63-2.61h0.13c0.48,0.93,1.2,1.66,2.16,2.2
              c0.96,0.54,2.02,0.81,3.19,0.81c2.1,0,3.64-0.97,4.63-2.9c0.99-1.93,1.48-4.95,1.48-9.06v-4.36
              C179.36,29.84,179.17,27.43,178.8,25.69z M173.11,36.93c0,2.01-0.08,3.58-0.25,4.72c-0.16,1.14-0.44,1.95-0.83,2.43
              c-0.39,0.48-0.91,0.72-1.57,0.72c-0.51,0-0.98-0.12-1.42-0.36c-0.43-0.24-0.79-0.6-1.06-1.08V27.71
              c0.21-0.75,0.57-1.36,1.08-1.84c0.51-0.48,1.06-0.72,1.66-0.72c0.63,0,1.12,0.25,1.46,0.74c0.34,0.49,0.58,1.33,0.72,2.49
              c0.13,1.17,0.2,2.83,0.2,4.99V36.93z" class="style-scope ytd-topbar-logo-renderer"></path>
          </g>
        </g>
      </g></svg>
    `
})

Vue.component('svg-search', {
    template: `
    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope yt-icon">
        <g class="style-scope yt-icon">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" class="style-scope yt-icon"></path>
        </g>
    </svg>
    `
})

Vue.component('e-checkbox', {
    props: ['yes', 'no', 'value'],
    template: `
        <button class="edl toggle on" v-on:click="$emit('input', false)" v-if="value">{{yes}}</button>
        <button class="edl toggle off" v-on:click="$emit('input', true)" v-else>{{no}}</button>
    `
})

Vue.component('ef-group', {
    template: `
    <div class='edl-form-group'>
        <slot></slot>
    </div>
    `
})

Vue.component('efg-end', {
    props: [],
    template: `
    <span class='edl-form-group end'>
        <slot></slot>
    </span>
    `
})

Vue.component('e-text', {
    props: ['label', 'value', 'disabled'],
    template: `
        <div class="edl text container">
            <input 
                :placeholder="label"
                v-bind:disabled='disabled'
                class="edl text"
                v-bind:value="value"
                v-on:input="$emit('input', $event.target.value)" />
        </div>
    `
})

Vue.component('e-select', {
    props: ['label', 'options', 'value'],
    template: `
        <div class="edl container">
            <select name="download-type" class="edl" v-bind:value="value">
                <option 
                    v-for="option in options"
                    v-on:input="$emit('input', $event.target.value)">
                    {{option}}
                </option>
            </select>
        </div>
    `
})

Vue.component('e-slider', {
    props: ["value"],
    template: `
        <div class="edl container">
            <input class="edl" type="range" min=1 max=16 step=1 :value="value" v-on:input="$emit('input', $event.target.value)" />
        </div>
    `
})

Vue.component('download-thumbnail', {
    props: ['download'],
    template: `
        <div class="edl thumbnail">
            <img :src="download.video.thumbnail" alt="thumbnail" />
            <div class="overlay">
            </div>
        </div>
    `
})

Vue.component('download-progress', {
    props: ['download'],
    template: `
    <span>progress</span>
    `
})

Vue.component('download-item', {
    props: ['download'],
    template: `
        <div class="download">
            <download-thumbnail :download="download" />
            <download-progress :download="download" />
            <h5>{{download.video.title}}</h5>
            <p>
                <progress :value="download.description.percentComplete | parseFloat" max="100" ></progress>
                <span>Size:{{download.description.size}}</span>
                <span>ETA:{{download.description.eta}}</span>
            </p>
        </div>
    `
})

Vue.component('config-form', {
    data() {
        return {
            // downloadId: 'PLj_Goi54wf0esy4JFDk2ix5Y5-es-S6R0',
            // destinationPath: '/home/alex/Videos/Christopher Odd/DRI',
            // downloadId: '',
            // destinationPath: '',
            downloadId: 'https://www.youtube.com/watch?v=Xd1zlRF4mDk&list=PLj_Goi54wf0cmBbjU7T0ePfZpZ_Yzh6Rq',
            destinationPath: '/mnt/Drive/Videos/Christopher Odd/DOS2',
            audioOnly: false,
            concurrent: 4,
            concurrentOptions: [2, 4, 8, 16, 32],
            downloadType: 'Playlist',
            downloadTypes: [
                'Playlist',
                'Video'
            ],
            busy: false
        }
    },
    methods: {
        start() {
            this.$emit('start', {
                downloadId: this.downloadId,
                destinationPath: this.destinationPath,
                audioOnly: this.audioOnly,
                downloadType: this.downloadType,
                concurrent: parseInt(this.concurrent)

            })
        }
    },
    template: `
        <div id="config">
            <br />
            <e-text
                class="blk"
                :disabled="busy"
                label="Download URL"
                v-model="downloadId"
                />
            <br />
            <e-text
                :disabled="busy"
                label="Download Destination"
                v-model="destinationPath" />
            <br />
            <e-checkbox
                yes='Audio Only'
                no='Audio Only'
                :disabled="busy"
                label="Audio Only"
                v-model="audioOnly" />
            <br />
            <e-select
                :disabled="busy"
                label="Download Type"
                v-bind:options="downloadTypes"
                v-model="downloadType" />
            <br />
            <ef-group>
                <e-slider class="edl-form-group-item" v-model='concurrent' />
                <efg-end>{{concurrent}} Concurrent</efg-end>
            </ef-group>
            <br />
            <div v-if="busy">
                <button id="edl" class="edl" v-on:click="stop()">stop</button>
            </div>
            <div v-else>
                <button id="start-btn" class="edl btn" v-on:click="start()">start</button>
            </div>
        </div>
    `
})
